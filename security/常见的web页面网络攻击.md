# 常见的web页面网络攻击
---
---
## 1. 暴力破解
### 1.1 暴力破解密码

【**攻击原理**】暴力破解一般不是在web页面，但是对于公有云的虚拟机，只要拿到了IP地址，用ssh进行登陆的话，就有可能通过暴力破解完成登陆。一般暴力破解不会简单的遍历，而会用到两个东西：

- 弱密码库（弱密码字典）
- 社工库

【**防御**】杜绝弱密码，密码需要包含：大小写字母，数字，特殊符号，12位以上，且不包含生日、1234、年份、车牌等信息。

### 1.2 彩虹表攻击
【**攻击原理**】[彩虹表](https://blog.csdn.net/whatday/article/details/88527936/)攻击是不同于暴力破解的盲扫，彩虹表攻击已经知道其密码的hash值。我们在把密码存到数据库的时候往往不是明文存储的，而是存储它的hash值。在我们拿到hash值之后并不能反解出来它的密码明文，**因此我们需要构建弱密码的hash存放在彩虹表里，实际上是通过一个R函数，生成==hash: password对==。通过hash值找到对应的密码明文**。

彩虹表的关键是构造R函数，优秀的R函数要保证计算结果均匀分布，即避免出现相同的明文密码。然而想构造优秀的R函数是件非常困难的事，不同的哈希链中可能会出现大量的重复数据，严重影响了密码攻击的效率。

【**防御**】**最有效的方法就是“加盐”，即在密码的特定位置插入特定的字符串，这个特定字符串就是“盐”，加盐后的密码经过哈希加密得到的哈希串与加盐前的哈希串完全不同**，黑客用彩虹表得到的密码根本就不是真正的密码。即使黑客知道了“盐”的内容、加盐的位置，还需要对加密函数H和关系函数R进行修改，彩虹表也需要重新生成，因此加盐能大大增加利用彩虹表攻击的难度。

【**代码实现**】
加盐，是不能直接把明文密码存入数据库，需要把明文密码进行加密存储，加密存储的方式主要有：
- **明文转码加密**：BASE64, 7BIT等，这种方式只是个障眼法，不是真正的加密。
- **对称算法加密**：DES, RSA等。
- **签名算法加密**：也可以理解为单向哈希加密，比如MD5, SHA1等。加密算法固定，容
- **易被暴力破解**。如果密码相同，得到的哈希值是一样的。
- **加盐哈希加密**：加密时混入一段“随机”字符串（盐值）再进行哈希加密。即使密码相同，如果盐值不同，那么哈希值也是不一样的。**现在网站开发中主要是运用这种加密方法。**
- **密码生成函数**：generate_password_hash

python的flask是基于werkzeug工具包实现的一个web框架，可以直接使用generate_password_hash方法生成密码。看返回的代码内容，实际是由三部分构成，用“$”隔开：
- actual_method：实际的hash方法，默认是==pbkdf2:sha256==
- salt：盐值
- h：返回的密码+盐的hash值
```python
from werkzeug.security import generate_password_hash, check_password_hash
pwd_hash = generate_password_hash(password='admin1234')
is_right_pwd = check_password_hash(pwd_hash, password='admin1234')  # True/False
```
返回结果示例：
```linux
sha256$rjuuzI524d$aebdd3680a4543fdee10092b9f7b92b33094a8ffe6234a41f73c15f78558552a
```

## 2. 跨站攻击
跨站攻击说白了就是，可以通过某些手段获取本不应该获取到的网站资源，比如：
- 未登录就能够获取到，只有登陆后才应该能够获取到的内容
- 登陆之后能够获取到非当前用户可以获取到的资源
- 能够获取到非用户态能够获取到的资源

### 2.1 XSS
#### 2.1.1 反射型的xss攻击
#### 2.1.2 
### 2.2 伪装请求的csrf
### 2.3 伪装session的csrf
## 3. DOS攻击
### 3.1 cc攻击
### 3.2 DDOS攻击
### 3.3 SYN泛洪攻击
### 3.4 DNS泛洪攻击
## 4. 注入攻击
### 4.1 SQL注入
### 4.2 PHP注入
### 4.3 shell注入
### 4.4 文件上传漏洞
## 5. 网络劫持攻击
### 5.1 中间人攻击
### 5.2 DNS污染
### 5.3 域名劫持